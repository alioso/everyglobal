!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.Rellax=b()}(this,function(){var a=function(b,c){"use strict";var d=Object.create(a.prototype),e=0,f=0,g=[],h=!1,i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},j=window.transformProp||function(){var a=document.createElement("div");if(null==a.style.transform){var b=["Webkit","Moz","ms"];for(var c in b)if(void 0!==a.style[b[c]+"Transform"])return b[c]+"Transform"}return"transform"}(),k=function(a,b,c){return a<=b?b:a>=c?c:a};d.options={speed:-2,center:!1,round:!0},c&&Object.keys(c).forEach(function(a){d.options[a]=c[a]}),d.options.speed=k(d.options.speed,-10,10),b||(b=".rellax");var l=document.querySelectorAll(b);if(!(l.length>0))throw new Error("The elements you're trying to select don't exist.");d.elems=l;var m=function(){f=window.innerHeight,o();for(var a=0;a<d.elems.length;a++){var b=n(d.elems[a]);g.push(b)}window.addEventListener("resize",function(){r()}),q(),r()},n=function(a){var b=a.dataset.rellaxPercentage,c=a.dataset.rellaxSpeed,e=b||d.options.center?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:0,g=e+a.getBoundingClientRect().top,h=a.clientHeight||a.offsetHeight||a.scrollHeight,i=b||(e-g+f)/(h+f);d.options.center&&(i=.5);var j=c?k(c,-10,10):d.options.speed;(b||d.options.center)&&(j=k(c||d.options.speed,-5,5));var l=p(i,j),m=a.style.cssText,n="";if(m.indexOf("transform")>=0){var o=m.indexOf("transform"),q=m.slice(o),r=q.indexOf(";");n=r?" "+q.slice(11,r).replace(/\s/g,""):" "+q.slice(11).replace(/\s/g,"")}return{base:l,top:g,height:h,speed:j,style:m,transform:n}},o=function(){var a=e;return e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,a!=e},p=function(a,b){var c=b*(100*(1-a));return d.options.round?Math.round(10*c)/10:c},q=function(){o()&&!1===h&&r(),i(q)},r=function(){for(var a=0;a<d.elems.length;a++){var b=(e-g[a].top+f)/(g[a].height+f),c=p(b,g[a].speed)-g[a].base,h="translate3d(0,"+c+"px,0) "+g[a].transform;d.elems[a].style[j]=h}};return d.destroy=function(){for(var a=0;a<d.elems.length;a++)d.elems[a].style.cssText=g[a].style;h=!0},m(),d};return a});